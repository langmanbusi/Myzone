### My implementation: 

Set export folder

```bash
export PREPROCESSED_DATASETS_FOLDER=/data2/wuyuhui
```

train

```bash
CUDA_VISIBLE_DEVICES=0 python train.py --config configs/train_e2depth_si_grad_loss_statenet_ergb.json
```

test

```bash
CUDA_VISIBLE_DEVICES=5 python test.py --path_to_model /data2/wuyuhui/Eventscape/ramnet_sim.pth.tar --output_path /data2/wuyuhui/Eventscape/e2depth_evaluation/test --data_folder /data2/wuyuhui/Eventscape/Town05_test/Town05/ --config configs/train_e2depth_si_grad_loss_statenet_ergb.json
```

evaluation

```bash
CUDA_VISIBLE_DEVICES=5 python evaluation.py --target_dataset /data2/wuyuhui/Eventscape/e2depth_evaluation/test/ground_truth/npy/depth_image/ --predictions_dataset /data2/wuyuhui/Eventscape/e2depth_evaluation/test/npy/image/ --clip_distance 1000 --reg_factor 5.70378
```

dataset的`__getitem__`返回形状：

首先获取 `item` ：

* train：
	* 首先返回item(events0 : , events1 : , event2 : , events3 : , events4 : , depth_events0 : , depth_events1 : , depth_events2 : , depth_events3 : , depth_events4 : , image : )
	* 再返回sequence，根据sequence_length=5，在sequence中append(item)，最终包含5个item

* test：item中除了train中的那些部分之外，还有semantic_seg_0,1,2,3,4 : ，读取的是semantic/data中的gt_labelIds.png


### 2022/1/6 

实现了生成所有的voxel文件，test集106.71g，val集91.89g，train集116g -> 502.62g

运行了一次test和evaluation，`_abs_rel_diff : 0.197506`，文中为0.198

### 2022/1/7

看了一下ET-Net的代码，没有train，暂时无法复现，但是model部分还算完整，可以借鉴。

主要还是在看RAMNet的代码，使用MVSEC的dataset和Eventscape的dataset还不一样，很复杂，需要再查资料看。查看了一下hdf5文件中的格式。




